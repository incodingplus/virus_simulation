export const hospital_data = [
    {
        name: 'hospital_1',
        path: [
            new kakao.maps.LatLng(37.322605335572995, 126.8297779763478),
            new kakao.maps.LatLng(37.32134378898662, 126.82970748786231),
            new kakao.maps.LatLng(37.3212252956456, 126.83190776595863),
            new kakao.maps.LatLng(37.3225319245432, 126.83200075535811),
        ],
        entrance: 614,
        enteredPeople: 0
    }, {
        name: 'hospital_2',
        path: [
            new kakao.maps.LatLng(37.3320780395757, 126.80809749140077),
            new kakao.maps.LatLng(37.33149439694833, 126.80935145979302),
            new kakao.maps.LatLng(37.32858110188657, 126.80751965906758),
            new kakao.maps.LatLng(37.32945262893015, 126.80600546922433),
        ],
        entrance: 661,
        enteredPeople: 0
    }, {
        name: 'hospital_3',
        path: [
            new kakao.maps.LatLng(37.30809331839797, 126.85629083850739),
            new kakao.maps.LatLng(37.309717922020695, 126.85856638533957),
            new kakao.maps.LatLng(37.31184164022694, 126.8563062655128),
            new kakao.maps.LatLng(37.31036104750009, 126.85394018121707),
        ],
        entrance: 232,
        enteredPeople: 0
    }, {
        name: 'hospital_4',
        path: [
            new kakao.maps.LatLng(37.31316362119696, 126.81548944520326),
            new kakao.maps.LatLng(37.310712440755914, 126.81525290402881),
            new kakao.maps.LatLng(37.31062508055614, 126.81701851913964),
            new kakao.maps.LatLng(37.31308067569203, 126.81719870226239),
        ],
        entrance: 73,
        enteredPeople: 0
    }, {
        name: 'hospital_5',
        path: [
            new kakao.maps.LatLng(37.327944556022814, 126.85021657325693),
            new kakao.maps.LatLng(37.327812053741944, 126.85232677488104),
            new kakao.maps.LatLng(37.33133547169189, 126.85263582005217),
            new kakao.maps.LatLng(37.33132554565155, 126.85190240416055),
            new kakao.maps.LatLng(37.32951256097977, 126.85038271077869)
        ],
        entrance: 290,
        enteredPeople: 0
    }, {
        name: 'hospital_6',
        path: [
            new kakao.maps.LatLng(37.308993772802275, 126.7846368076777),
            new kakao.maps.LatLng(37.30781185536328, 126.7887686931239),
            new kakao.maps.LatLng(37.30989500050137, 126.7897555411914),
            new kakao.maps.LatLng(37.31095951130255, 126.78545468186026),
        ],
        entrance: 516,
        enteredPeople: 0
    }, {
        name: 'hospital_7',
        path: [
            new kakao.maps.LatLng(37.33115749882084, 126.7837272883557),
            new kakao.maps.LatLng(37.33266400158438, 126.78470466103488),
            new kakao.maps.LatLng(37.33366860651093, 126.78221932315),
            new kakao.maps.LatLng(37.3324414013902, 126.78124117736604),
        ],
        entrance: 779,
        enteredPeople: 0
    }, {
        name: 'hospital_8',
        path: [
            new kakao.maps.LatLng(37.30268343328614, 126.83612803682246),
            new kakao.maps.LatLng(37.30077926658866, 126.83723187586419),
            new kakao.maps.LatLng(37.30009627145082, 126.83527081034183),
            new kakao.maps.LatLng(37.30209050743626, 126.8341554549218),
        ],
        entrance: 142,
        enteredPeople: 0
    }, {
        name: 'hospital_9',
        path: [
            new kakao.maps.LatLng(37.29660710662468, 126.87384501728393),
            new kakao.maps.LatLng(37.2964437448464, 126.8770088841584),
            new kakao.maps.LatLng(37.29775476840876, 126.87702366749589),
            new kakao.maps.LatLng(37.29778297522266, 126.87385997142779),
        ],
        entrance: 128,
        enteredPeople: 0
    }, {
        name: 'hospital_10',
        path: [
            new kakao.maps.LatLng(37.33933853702548, 126.82739861999775),
            new kakao.maps.LatLng(37.33671838607288, 126.82866847093966),
            new kakao.maps.LatLng(37.336183655909025, 126.82652566036933),
            new kakao.maps.LatLng(37.338804216923855, 126.82554914625105),
        ],
        entrance: 727,
        enteredPeople: 0
    }, {
        name: 'hospital_11',
        path: [
            new kakao.maps.LatLng(37.31192576136485, 126.83773804207023),
            new kakao.maps.LatLng(37.310889459321416, 126.83765566499726),
            new kakao.maps.LatLng(37.31069904742236, 126.84008702959594),
            new kakao.maps.LatLng(37.31183889792004, 126.84011845746463),
        ],
        entrance: 79,
        enteredPeople: 0
    }, {
        name: 'hospital_12',
        path: [
            new kakao.maps.LatLng(37.30173956960084, 126.79952346459272),
            new kakao.maps.LatLng(37.30133944724713, 126.79737021288997),
            new kakao.maps.LatLng(37.29866488791789, 126.79825712876857),
            new kakao.maps.LatLng(37.29914585860836, 126.80027474976013),
        ],
        entrance: 79,
        enteredPeople: 0
    }, {
        name: 'hospital_13',
        path: [
            new kakao.maps.LatLng(37.34604590514482, 126.80650450737329),
            new kakao.maps.LatLng(37.34450633215927, 126.80723073526708),
            new kakao.maps.LatLng(37.34492320330916, 126.80870808938879),
            new kakao.maps.LatLng(37.34638167480294, 126.80797080824857),
        ],
        entrance: 768,
        enteredPeople: 0
    }
]

export function init(map: kakao.maps.Map) {
    for (let i of hospital_data) {
        displayHospital(i)
    }

    function displayHospital(arr: typeof hospital_data[0]) {
        const hospital = new kakao.maps.Polygon({
            path: arr.path,
            strokeWeight: 2,
            strokeColor: 'red',
            strokeOpacity: 0.8,
            fillColor: 'white',
            fillOpacity: 0.7
        })

        const customOverlay = new kakao.maps.CustomOverlay({
            position: null,
            content: arr.name
        });

        const infowindow = new kakao.maps.InfoWindow({
            position: null,
            content: `
            <div class="box">
                <div id="name">hospital_1</div>
                <div id="contents">
                    <div>Number of People : 130</div>
                    <div>Entrance Numbers : 620</div>
                </div>
            </div>`,
            removable: true
        });


        kakao.maps.event.addListener(hospital, 'mouseover', function (mouseEvent) {
            customOverlay.setContent(`<div class="area"> ${arr.name} </div>`);

            customOverlay.setPosition(mouseEvent.latLng);
            customOverlay.setMap(map);
        });

        kakao.maps.event.addListener(hospital, 'mousemove', function (mouseEvent) {
            customOverlay.setPosition(mouseEvent.latLng);
        });

        kakao.maps.event.addListener(hospital, 'mouseout', function () {
            customOverlay.setMap(null);
        });

        // 다각형에 click 이벤트를 등록하고 이벤트가 발생하면 다각형의 이름과 면적을 인포윈도우에 표시합니다 
        kakao.maps.event.addListener(hospital, 'click', function (mouseEvent) {
            customOverlay.setMap(null);
            const content = `<div class="hospitalBox">
                                <div id="hospitalName">${arr.name}</div>
                                <div id="hospitalContents">
                                    <div>Number of People : ${arr.enteredPeople}</div>
                                    <div>Entrance Numbers : ${arr.entrance}</div>
                                </div>
                            </div>`;
            infowindow.setContent(content);
            infowindow.setPosition(mouseEvent.latLng);
            infowindow.open(map);
        });

        hospital.setMap(map);
    }
}